<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Memory Card - ARENA</title>
<style>
body{font-family:Arial;margin:0;padding:0;background:linear-gradient(120deg,#f6d365,#fda085);}
.container{max-width:400px;margin:50px auto;background:rgba(255,255,255,0.95);padding:30px;border-radius:15px;box-shadow:0 10px 25px rgba(0,0,0,0.2);text-align:center;}
#board{display:grid;grid-template-columns:repeat(4,80px);grid-gap:10px;justify-content:center;margin-top:20px;}
.card{width:80px;height:80px;background:#fefefe;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:30px;cursor:pointer;transition:0.3s;}
.card.flip{background:#fce38a;}
#message{margin-top:20px;font-weight:bold;}
button{margin-top:20px;padding:10px 20px;border-radius:10px;border:none;background:linear-gradient(45deg,#85FFBD,#FFFB7D);cursor:pointer;transition:0.3s;}
button:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(0,0,0,0.3);}
</style>
</head>
<body>
<div class="container">
<h2>Memory Card</h2>
<div id="board"></div>
<div id="message"></div>
<button onclick="startGame()">Restart</button>
<br>
<a href="games.html"><button>Back to Games</button></a>
</div>

<script>
let symbols=["ðŸŽ","ðŸŒ","ðŸ’","ðŸ‡"]; // only 4 fruits
let cards=[],first=null,second=null,matches=0;

function startGame(){
  cards=[...symbols,...symbols].sort(()=>Math.random()-0.5);
  first=null;second=null;matches=0;
  const board=document.getElementById("board");
  board.innerHTML="";
  cards.forEach((s,i)=>{
    const div=document.createElement("div");
    div.className="card";
    div.dataset.symbol=s;
    div.onclick=()=>flipCard(div);
    board.appendChild(div);
  });
  document.getElementById("message").innerText="";
}

function flipCard(div){
  if(div.classList.contains("flip")||second) return;
  div.classList.add("flip");
  div.innerText=div.dataset.symbol;
  if(!first){first=div;} else {second=div;checkMatch();}
}

function checkMatch(){
  if(first.dataset.symbol===second.dataset.symbol){
    matches++;
    first=null;second=null;
    if(matches===symbols.length){
      document.getElementById("message").innerText="You Win! ðŸŽ‰";
      saveScore("Memory","Win");
    }
  }else{
    setTimeout(()=>{
      first.classList.remove("flip");first.innerText="";
      second.classList.remove("flip");second.innerText="";
      first=null;second=null;
    },700);
  }
}

function saveScore(game,score){
  const user=JSON.parse(localStorage.getItem("user"))||{scores:{}};
  if(!user.scores[game]) user.scores[game]=[];
  user.scores[game].push(score);
  localStorage.setItem("user",JSON.stringify(user));
}

window.onload=startGame;
</script>
</body>
</html>
